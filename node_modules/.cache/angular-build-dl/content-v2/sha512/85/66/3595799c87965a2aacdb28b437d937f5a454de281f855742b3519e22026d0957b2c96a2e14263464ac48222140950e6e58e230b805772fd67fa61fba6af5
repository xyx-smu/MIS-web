!function(){function n(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function r(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function e(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(self.webpackChunkmis_web=self.webpackChunkmis_web||[]).push([[492],{7492:function(r,t,o){"use strict";o.r(t),o.d(t,{RegisterFormModule:function(){return y}});var i=o(3464),a=o(1462),s=o(5366),u=function(){var r=function(){function r(){n(this,r)}return e(r,[{key:"tel",value:function(n){var r=n.value;return function(n){return null==n||0===n.length}(r)||function(n){return"string"==typeof n&&/(^(13[0-9]|14[5|7]|15[0-9]|18[0|1|2|3|5|6|7|8|9])\d{8}$)/.test(n)}(r)?null:{tel:{"zh-cn":"\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"}}}}]),r}();return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r}(),l=o(7004),m=o(6911),c=o(1524),f=o(1843),z=o(3776),g=o(3964),p=o(5095),d=o(5728),Z=o(4897),h=o(1116);function v(n,r){1&n&&(s.ynx(0),s._uU(1,"\u8bf7\u786e\u8ba4\u60a8\u7684\u5bc6\u7801!"),s.BQk())}function q(n,r){1&n&&(s.ynx(0),s._uU(1," \u8f93\u5165\u7684\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4! "),s.BQk())}function b(n,r){if(1&n&&(s.YNc(0,v,2,0,"ng-container",28),s.YNc(1,q,2,0,"ng-container",28)),2&n){var e=r.$implicit;s.Q6J("ngIf",e.hasError("required")),s.xp6(1),s.Q6J("ngIf",e.hasError("confirm"))}}var T,A,_=[{path:"",data:{key:"register-form",shouldDetach:"no"},component:(T=function(){function r(e,t,o,i,s){var u=this;n(this,r),this.fb=e,this.validate=t,this.service=o,this.msg=i,this.router=s,this.confirmationValidator=function(n){return n.value?n.value!==u.validateForm.controls.password.value?{confirm:!0,error:!0}:{}:{required:!0}},this.validateForm=this.fb.group({username:[null,[a.kI.required]],realName:[null,[a.kI.required]],password:[null,[a.kI.required]],checkPassword:[null,[a.kI.required,this.confirmationValidator]],email:[null,[a.kI.email,a.kI.required]],phoneNumber:[null,[a.kI.required,this.validate.tel]],agree:[!1]})}return e(r,[{key:"ngOnInit",value:function(){}},{key:"submitForm",value:function(){var n=this;this.validateForm.valid?(this.service.register(this.validateForm.value).subscribe(function(r){console.log(r),0==r.code?(n.msg.create("success","\u6ce8\u518c\u6210\u529f"),n.validateForm.reset(),n.router.navigateByUrl("login/login-form")):n.msg.create("error","\u6ce8\u518c\u5931\u8d25,\u5931\u8d25\u7684\u539f\u56e0\u662f"+r.message)}),console.log(this.validateForm.value)):Object.values(this.validateForm.controls).forEach(function(n){n.invalid&&(n.markAsDirty(),n.updateValueAndValidity({onlySelf:!0}))})}},{key:"updateConfirmValidator",value:function(){var n=this;Promise.resolve().then(function(){return n.validateForm.controls.checkPassword.updateValueAndValidity()})}}]),r}(),T.\u0275fac=function(n){return new(n||T)(s.Y36(a.qu),s.Y36(u),s.Y36(l.r),s.Y36(m.dD),s.Y36(i.F0))},T.\u0275cmp=s.Xpm({type:T,selectors:[["app-register-form"]],decls:51,vars:32,consts:[[1,"register-card"],[1,"register-background"],[1,"register-content"],[1,"register-text"],["nz-form","",3,"formGroup","ngSubmit"],["nzFor","username","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","\u8bf7\u8f93\u5165\u7528\u6237\u540d!",3,"nzSm","nzXs"],["nz-input","","id","username","formControlName","username"],["nzFor","realName","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","\u8bf7\u8f93\u5165\u59d3\u540d!",3,"nzSm","nzXs"],["nz-input","","id","realName","formControlName","realName"],["nzFor","password","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","\u8bf7\u8f93\u5165\u5bc6\u7801!",3,"nzSm","nzXs"],["nz-input","","type","password","id","password","formControlName","password",3,"ngModelChange"],["nzFor","checkPassword","nzRequired","",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["nz-input","","type","password","formControlName","checkPassword","id","checkPassword"],["errorTpl",""],["nzFor","phoneNumber","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7!",3,"nzSm","nzXs","nzValidateStatus"],["formControlName","phoneNumber","id","'phoneNumber'","nz-input",""],["nzRequired","","nzFor","email",3,"nzSm","nzXs"],["nzErrorTip","\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1!",3,"nzSm","nzXs"],["nz-input","","formControlName","email","id","email"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-checkbox","","formControlName","agree"],["nz-button","","nzType","primary",3,"disabled"],[4,"ngIf"]],template:function(n,r){if(1&n&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"h2",3),s._uU(4,"\u6ce8\u518c"),s.qZA(),s.TgZ(5,"form",4),s.NdJ("ngSubmit",function(){return r.submitForm()}),s.TgZ(6,"nz-form-item"),s.TgZ(7,"nz-form-label",5),s.TgZ(8,"span"),s._uU(9,"\u7528\u6237\u540d"),s.qZA(),s.qZA(),s.TgZ(10,"nz-form-control",6),s._UZ(11,"input",7),s.qZA(),s.qZA(),s.TgZ(12,"nz-form-item"),s.TgZ(13,"nz-form-label",8),s.TgZ(14,"span"),s._uU(15,"\u59d3\u540d"),s.qZA(),s.qZA(),s.TgZ(16,"nz-form-control",9),s._UZ(17,"input",10),s.qZA(),s.qZA(),s.TgZ(18,"nz-form-item"),s.TgZ(19,"nz-form-label",11),s._uU(20,"\u5bc6\u7801"),s.qZA(),s.TgZ(21,"nz-form-control",12),s.TgZ(22,"input",13),s.NdJ("ngModelChange",function(){return r.updateConfirmValidator()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(23,"nz-form-item"),s.TgZ(24,"nz-form-label",14),s._uU(25,"\u786e\u8ba4\u5bc6\u7801"),s.qZA(),s.TgZ(26,"nz-form-control",15),s._UZ(27,"input",16),s.YNc(28,b,2,2,"ng-template",null,17,s.W1O),s.qZA(),s.qZA(),s.TgZ(30,"nz-form-item"),s.TgZ(31,"nz-form-label",18),s._uU(32,"\u624b\u673a\u53f7\u7801"),s.qZA(),s.TgZ(33,"nz-form-control",19),s._UZ(34,"input",20),s.qZA(),s.qZA(),s.TgZ(35,"nz-form-item"),s.TgZ(36,"nz-form-label",21),s._uU(37,"\u7535\u5b50\u90ae\u7bb1"),s.qZA(),s.TgZ(38,"nz-form-control",22),s._UZ(39,"input",23),s.qZA(),s.qZA(),s.TgZ(40,"nz-form-item",24),s.TgZ(41,"nz-form-control",25),s.TgZ(42,"label",26),s.TgZ(43,"span"),s._uU(44," \u6211\u5df2\u9605\u8bfb\u8fc7 "),s.TgZ(45,"a"),s._uU(46,"\u534f\u8bae"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(47,"nz-form-item",24),s.TgZ(48,"nz-form-control",25),s.TgZ(49,"button",27),s._uU(50," \u6ce8 \u518c "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&n){var e=s.MAs(29);s.xp6(5),s.Q6J("formGroup",r.validateForm),s.xp6(2),s.Q6J("nzSm",6)("nzXs",24),s.xp6(3),s.Q6J("nzSm",14)("nzXs",24),s.xp6(3),s.Q6J("nzSm",6)("nzXs",24),s.xp6(3),s.Q6J("nzSm",14)("nzXs",24),s.xp6(3),s.Q6J("nzSm",6)("nzXs",24),s.xp6(2),s.Q6J("nzSm",14)("nzXs",24),s.xp6(3),s.Q6J("nzSm",6)("nzXs",24),s.xp6(2),s.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",e),s.xp6(5),s.Q6J("nzSm",6)("nzXs",24),s.xp6(2),s.Q6J("nzSm",14)("nzXs",24)("nzValidateStatus",r.validateForm.controls.phoneNumber),s.xp6(3),s.Q6J("nzSm",6)("nzXs",24),s.xp6(2),s.Q6J("nzSm",14)("nzXs",24),s.xp6(3),s.Q6J("nzSpan",14)("nzOffset",6),s.xp6(7),s.Q6J("nzSpan",14)("nzOffset",6),s.xp6(1),s.Q6J("disabled",!r.validateForm.value.agree)}},directives:[a._Y,a.JL,c.Lr,a.sg,f.SK,c.Nx,f.t3,c.iK,c.Fd,z.Zp,a.Fj,a.JJ,a.u,g.Ie,p.ix,d.dQ,Z.w,h.O5],styles:[".register-card[_ngcontent-%COMP%]{margin-left:34%;margin-top:8%;position:relative;width:500px;height:540px}.register-card[_ngcontent-%COMP%]   .register-background[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0;background-color:#fff;opacity:.8;position:absolute}.register-card[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]{position:absolute;padding:36px;top:0;left:0;right:0;bottom:0}.register-card[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .register-text[_ngcontent-%COMP%]{font-family:Myriad Pro,Helvetica Neue,Arial,Helvetica,sans-serif;text-align:center}.register-card[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   [nz-form][_ngcontent-%COMP%]{max-width:500px}.register-card[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   [nz-form][_ngcontent-%COMP%]   .register-are[_ngcontent-%COMP%]{margin-bottom:8px}"]}),T)}],S=function(){var r=e(function r(){n(this,r)});return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=s.oAB({type:r}),r.\u0275inj=s.cJS({imports:[[i.Bz.forChild(_)],i.Bz]}),r}(),x=o(3121),y=((A=e(function r(){n(this,r)})).\u0275fac=function(n){return new(n||A)},A.\u0275mod=s.oAB({type:A}),A.\u0275inj=s.cJS({imports:[[x.m,S]]}),A)}}])}();