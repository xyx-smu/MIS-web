(self.webpackChunkmis_web=self.webpackChunkmis_web||[]).push([[492],{7492:function(n,r,e){"use strict";e.r(r),e.d(r,{RegisterFormModule:function(){return b}});var t=e(3464),o=e(1462),i=e(5366);let a=(()=>{class n{constructor(){}tel(n){const r=n.value;return function(n){return null==n||0===n.length}(r)||function(n){return"string"==typeof n&&/(^(13[0-9]|14[5|7]|15[0-9]|18[0|1|2|3|5|6|7|8|9])\d{8}$)/.test(n)}(r)?null:{tel:{"zh-cn":"\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"}}}}return n.\u0275fac=function(r){return new(r||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var s=e(7004),m=e(6911),l=e(1524),u=e(1843),c=e(3776),z=e(3964),g=e(5095),d=e(5728),p=e(4897),f=e(1116);function Z(n,r){1&n&&(i.ynx(0),i._uU(1,"\u8bf7\u786e\u8ba4\u60a8\u7684\u5bc6\u7801!"),i.BQk())}function h(n,r){1&n&&(i.ynx(0),i._uU(1," \u8f93\u5165\u7684\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4! "),i.BQk())}function q(n,r){if(1&n&&(i.YNc(0,Z,2,0,"ng-container",28),i.YNc(1,h,2,0,"ng-container",28)),2&n){const n=r.$implicit;i.Q6J("ngIf",n.hasError("required")),i.xp6(1),i.Q6J("ngIf",n.hasError("confirm"))}}const T=[{path:"",data:{key:"register-form",shouldDetach:"no"},component:(()=>{class n{constructor(n,r,e,t,i){this.fb=n,this.validate=r,this.service=e,this.msg=t,this.router=i,this.confirmationValidator=n=>n.value?n.value!==this.validateForm.controls.password.value?{confirm:!0,error:!0}:{}:{required:!0},this.validateForm=this.fb.group({username:[null,[o.kI.required]],realName:[null,[o.kI.required]],password:[null,[o.kI.required]],checkPassword:[null,[o.kI.required,this.confirmationValidator]],email:[null,[o.kI.email,o.kI.required]],phoneNumber:[null,[o.kI.required,this.validate.tel]],agree:[!1]})}ngOnInit(){}submitForm(){this.validateForm.valid?(this.service.register(this.validateForm.value).subscribe(n=>{console.log(n),0==n.code?(this.msg.create("success","\u6ce8\u518c\u6210\u529f"),this.validateForm.reset(),this.router.navigateByUrl("login/login-form")):this.msg.create("error","\u6ce8\u518c\u5931\u8d25,\u5931\u8d25\u7684\u539f\u56e0\u662f"+n.message)}),console.log(this.validateForm.value)):Object.values(this.validateForm.controls).forEach(n=>{n.invalid&&(n.markAsDirty(),n.updateValueAndValidity({onlySelf:!0}))})}updateConfirmValidator(){Promise.resolve().then(()=>this.validateForm.controls.checkPassword.updateValueAndValidity())}}return n.\u0275fac=function(r){return new(r||n)(i.Y36(o.qu),i.Y36(a),i.Y36(s.r),i.Y36(m.dD),i.Y36(t.F0))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-register-form"]],decls:51,vars:32,consts:[[1,"register-card"],[1,"register-background"],[1,"register-content"],[1,"register-text"],["nz-form","",3,"formGroup","ngSubmit"],["nzFor","username","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","\u8bf7\u8f93\u5165\u7528\u6237\u540d!",3,"nzSm","nzXs"],["nz-input","","id","username","formControlName","username"],["nzFor","realName","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","\u8bf7\u8f93\u5165\u59d3\u540d!",3,"nzSm","nzXs"],["nz-input","","id","realName","formControlName","realName"],["nzFor","password","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","\u8bf7\u8f93\u5165\u5bc6\u7801!",3,"nzSm","nzXs"],["nz-input","","type","password","id","password","formControlName","password",3,"ngModelChange"],["nzFor","checkPassword","nzRequired","",3,"nzSm","nzXs"],[3,"nzSm","nzXs","nzErrorTip"],["nz-input","","type","password","formControlName","checkPassword","id","checkPassword"],["errorTpl",""],["nzFor","phoneNumber","nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7!",3,"nzSm","nzXs","nzValidateStatus"],["formControlName","phoneNumber","id","'phoneNumber'","nz-input",""],["nzRequired","","nzFor","email",3,"nzSm","nzXs"],["nzErrorTip","\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1!",3,"nzSm","nzXs"],["nz-input","","formControlName","email","id","email"],["nz-row","",1,"register-area"],[3,"nzSpan","nzOffset"],["nz-checkbox","","formControlName","agree"],["nz-button","","nzType","primary",3,"disabled"],[4,"ngIf"]],template:function(n,r){if(1&n&&(i.TgZ(0,"div",0),i._UZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"h2",3),i._uU(4,"\u6ce8\u518c"),i.qZA(),i.TgZ(5,"form",4),i.NdJ("ngSubmit",function(){return r.submitForm()}),i.TgZ(6,"nz-form-item"),i.TgZ(7,"nz-form-label",5),i.TgZ(8,"span"),i._uU(9,"\u7528\u6237\u540d"),i.qZA(),i.qZA(),i.TgZ(10,"nz-form-control",6),i._UZ(11,"input",7),i.qZA(),i.qZA(),i.TgZ(12,"nz-form-item"),i.TgZ(13,"nz-form-label",8),i.TgZ(14,"span"),i._uU(15,"\u59d3\u540d"),i.qZA(),i.qZA(),i.TgZ(16,"nz-form-control",9),i._UZ(17,"input",10),i.qZA(),i.qZA(),i.TgZ(18,"nz-form-item"),i.TgZ(19,"nz-form-label",11),i._uU(20,"\u5bc6\u7801"),i.qZA(),i.TgZ(21,"nz-form-control",12),i.TgZ(22,"input",13),i.NdJ("ngModelChange",function(){return r.updateConfirmValidator()}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(23,"nz-form-item"),i.TgZ(24,"nz-form-label",14),i._uU(25,"\u786e\u8ba4\u5bc6\u7801"),i.qZA(),i.TgZ(26,"nz-form-control",15),i._UZ(27,"input",16),i.YNc(28,q,2,2,"ng-template",null,17,i.W1O),i.qZA(),i.qZA(),i.TgZ(30,"nz-form-item"),i.TgZ(31,"nz-form-label",18),i._uU(32,"\u624b\u673a\u53f7\u7801"),i.qZA(),i.TgZ(33,"nz-form-control",19),i._UZ(34,"input",20),i.qZA(),i.qZA(),i.TgZ(35,"nz-form-item"),i.TgZ(36,"nz-form-label",21),i._uU(37,"\u7535\u5b50\u90ae\u7bb1"),i.qZA(),i.TgZ(38,"nz-form-control",22),i._UZ(39,"input",23),i.qZA(),i.qZA(),i.TgZ(40,"nz-form-item",24),i.TgZ(41,"nz-form-control",25),i.TgZ(42,"label",26),i.TgZ(43,"span"),i._uU(44," \u6211\u5df2\u9605\u8bfb\u8fc7 "),i.TgZ(45,"a"),i._uU(46,"\u534f\u8bae"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(47,"nz-form-item",24),i.TgZ(48,"nz-form-control",25),i.TgZ(49,"button",27),i._uU(50," \u6ce8 \u518c "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&n){const n=i.MAs(29);i.xp6(5),i.Q6J("formGroup",r.validateForm),i.xp6(2),i.Q6J("nzSm",6)("nzXs",24),i.xp6(3),i.Q6J("nzSm",14)("nzXs",24),i.xp6(3),i.Q6J("nzSm",6)("nzXs",24),i.xp6(3),i.Q6J("nzSm",14)("nzXs",24),i.xp6(3),i.Q6J("nzSm",6)("nzXs",24),i.xp6(2),i.Q6J("nzSm",14)("nzXs",24),i.xp6(3),i.Q6J("nzSm",6)("nzXs",24),i.xp6(2),i.Q6J("nzSm",14)("nzXs",24)("nzErrorTip",n),i.xp6(5),i.Q6J("nzSm",6)("nzXs",24),i.xp6(2),i.Q6J("nzSm",14)("nzXs",24)("nzValidateStatus",r.validateForm.controls.phoneNumber),i.xp6(3),i.Q6J("nzSm",6)("nzXs",24),i.xp6(2),i.Q6J("nzSm",14)("nzXs",24),i.xp6(3),i.Q6J("nzSpan",14)("nzOffset",6),i.xp6(7),i.Q6J("nzSpan",14)("nzOffset",6),i.xp6(1),i.Q6J("disabled",!r.validateForm.value.agree)}},directives:[o._Y,o.JL,l.Lr,o.sg,u.SK,l.Nx,u.t3,l.iK,l.Fd,c.Zp,o.Fj,o.JJ,o.u,z.Ie,g.ix,d.dQ,p.w,f.O5],styles:[".register-card[_ngcontent-%COMP%]{margin-left:34%;margin-top:8%;position:relative;width:500px;height:540px}.register-card[_ngcontent-%COMP%]   .register-background[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0;background-color:#fff;opacity:.8;position:absolute}.register-card[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]{position:absolute;padding:36px;top:0;left:0;right:0;bottom:0}.register-card[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .register-text[_ngcontent-%COMP%]{font-family:Myriad Pro,Helvetica Neue,Arial,Helvetica,sans-serif;text-align:center}.register-card[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   [nz-form][_ngcontent-%COMP%]{max-width:500px}.register-card[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   [nz-form][_ngcontent-%COMP%]   .register-are[_ngcontent-%COMP%]{margin-bottom:8px}"]}),n})()}];let v=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[t.Bz.forChild(T)],t.Bz]}),n})();var A=e(3121);let b=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[A.m,v]]}),n})()}}]);